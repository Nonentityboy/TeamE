守护进程是一个后台程序，无需用户输入就能运行，经常是提供某种服务

首先执行fork后让父进程退出。
子进程调用setsid，取消进程和任何控制终端的关联。
下一步是让根目录称为子进程的当前工作目录。
（因为任何进程如果它的当前目录是在一个被安装的文件系统上，那么就会妨碍这个文件系统被卸载）
接下来设置进程的umask为0.（避免一些其他情况）
关闭子进程任何不必要的文件描述符。

总结
1.父进程fork，exit退出。
2.在子进程中调用setsid。
3.让根目录‘/’成为子进程的工作目录。
4.把子进程的umask变为0。
5.关闭任何不需要的文件描述符。
//setsid后子进程不受终端影响，终端退出，不影响子进程

pid_t setsid()
int chdir()



守护进程是通过shell脚本或命令行启动的。
守护进程会接收信号。

要和一个守护进程通信，你要让它发送信号，让它以某种方式响应。
eg：强行要求一个守护进程重新读取他的配置文件，或者改变守护进程的行为，或者指示守护进程结束